{% extends 'base.html.twig' %}
{% set pagination = 10 %}
{% block title %}Series index
{% endblock %}

{% block stylesheets %}
        <link rel="stylesheet" type="text/css" href="../style/styleIndexS.css">
{% endblock %}

{% block body %}
	<div id="tout">

		<header>
			<a href="{{path('app_default')}}">Netflop</a>
			<div id="id">
				{% if app.user %}
					{% if is_granted('ROLE_ADMIN') %}
						<a href="{{ path('admin') }}"><input name="admin" type="submit" value="Dashboard"></a>
					{% endif %}
					<a href="{{ path('app_logout') }}"><input name="deconnexion" type="submit" value="Déconnexion"></a>
					{% if is_granted('IS_IMPERSONATOR') %}
						<a href="{{ path('admin') }}?_switch_user=_exit"><input name="deconnexion" type="submit" value="Retour à mon compte"></a>
					{% endif %}
				{% else %}
					<a href="{{ path('app_login') }}"><input name="connexion" type="submit" value="Connexion"></a>
					<a href="{{ path('app_register') }}"><input name="inscription" type="submit" value="Inscription"></a>
				{% endif %}
			</div>
		</header>
		<div id="content">
			<h1>Catalogue</h1>


			{% if form is defined %}
  {{ form_start(form) }}

<div class="form-row align-items-end" >
 <div class="col">
   {{ form_row(form.nom) }}
 </div>

  <div class="col">
   <div class="form-group">
      <button type="submit" class="btn btn-success">Rechercher</button>
    </div>
 </div>
</div>
 {{ form_end(form) }}

{% endif %}

			<table
				class="table">
				<!--<thead>
												                    <tr>
												                        <th>Title</th>
												                        <th>Poster</th>
												                        <th>Director</th>
												                        <th>YoutubeTrailer</th>
												                        <th>actions</th>
												                    </tr>
												                </thead>-->
				<tbody id="afficheSeries">
					{% for series in series %}
						<tr id="serie">
							<td><img src="{{ path('poster_series_show', {'id': series.id} ) }}"/></td>
							<!--<td>{{ series.director }}</td>
																					                        <td>{{ series.youtubeTrailer }}</td>-->
							<td>{{ series.title }}</td>

							<td>
								<a class="boutonModif" href="{{ path('app_series_show', {'id': series.id}) }}">Afficher</a>
								<a class="nePasAfficher" href="{{ path('app_series_edit', {'id': series.id}) }}">Edit</a>
							</td>
						</tr>
					{% else %}
						<tr>
							<td colspan="11">no records found</td>
						</tr>
					{% endfor %}

					{# 
															                <div class="bouton">
															                    <a href="{{ path('app_series_index_page', {'page': series|length } ) }}"> Suivant > </a>
															                </div>
															                #}


				    
					{% if pagination is defined and pagination == true %}
					<div class="navigation">
						{{ knp_pagination_render(series) }}
					</div>
					{% endif %}
					{# Permet de gérer l'aleatoire #}
					{#
															                    {% set randomSerie = random(series) %}
															                    <td>{{ randomSerie.title }}</td>
															                        <td><img src="{{ path('poster_series_show', {'id': randomSerie.id} ) }}"/></td>
															                        <td>{{ randomSerie.director }}</td>
															                        <td>{{ randomSerie.youtubeTrailer }}</td>
															                        <td>
															                            <a href="{{ path('app_series_show', {'id': randomSerie.id}) }}">show</a>
															                            {# <a href="{{ path('app_series_edit', {'id': randomSerie.id}) }}">edit</a> 
															                        </td>
															                    </tr>
															                    #}
				</tbody>
			</table>
			{# <a href="{{ path('app_series_new') }}">Create new</a> #}
		</div>
	</div>
{% endblock %}
